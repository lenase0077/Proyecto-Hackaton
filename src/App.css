/* 
===========================================
RESET BÁSICO - Restablece estilos por defecto
===========================================
*/

/* * = selecciona TODOS los elementos HTML de la página */
* {
  /* border-box hace que padding y border se cuenten dentro del ancho/alto */
  box-sizing: border-box;
  
  /* Elimina márgenes externos de todos los elementos */
  margin: 0;
  
  /* Elimina rellenos internos de todos los elementos */
  padding: 0;
}


/* 
===========================================
CONFIGURACIÓN DE ESTRUCTURA PRINCIPAL
===========================================
*/

/* Aplica estos estilos a body, html y el div con id="root" */
body, html, #root {
  /* Ocupa el 100% del ancho disponible */
  width: 100%;
  
  /* Ocupa el 100% del alto disponible */
  height: 100%;
  
  /* Define la fuente principal del texto */
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  
  /* Oculta las barras de scroll (no se puede hacer scroll) */
  overflow: hidden;
}


/* 
===========================================
CONTENEDOR PRINCIPAL DE LA APLICACIÓN
===========================================
*/

/* El contenedor principal que envuelve toda la app */
.app-container {
  /* Usa flexbox para organizar elementos */
  display: flex;
  
  /* Los elementos se apilan verticalmente (uno debajo de otro) */
  flex-direction: column;
  
  /* Ocupa toda la altura de la ventana */
  height: 100vh; /* 100% del viewport height */
  
  /* Color de fondo en modo claro */
  background-color: #f8fafc;
  
  /* Color del texto en modo claro */
  color: #1e293b;
}


/* 
===========================================
MODO OSCURO - Estilos cuando está activo
===========================================
*/

/* .dark-mode se aplica cuando app-container también tiene clase dark-mode */
.app-container.dark-mode {
  /* Color de fondo en modo oscuro (gris muy oscuro) */
  background-color: #111827;
  
  /* Color del texto en modo oscuro (gris claro) */
  color: #f3f4f6;
}


/* 
===========================================
ESTILOS PARA REACT FLOW (Biblioteca de gráficos)
===========================================
*/

/* Estilos para los NODOS (cajas/cuadrados de materias) */
.react-flow__node {
  /* Cambia el cursor a manito cuando pasas el mouse */
  cursor: pointer;
  
  /* Suaviza todas las transiciones (cambios de estilo) */
  transition: all 0.3s ease;
}

/* Cuando pasas el mouse sobre un nodo */
.react-flow__node:hover {
  /* Agranda el nodo un 5% */
  transform: scale(1.05);
  
  /* Agrega sombra para efecto 3D */
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
  
  /* Asegura que esté por encima de otros elementos */
  z-index: 100;
}


/* 
===========================================
PERSONALIZACIÓN DE BARRAS DE SCROLL
===========================================
*/

/* Para navegadores WebKit (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  /* Ancho de la barra de scroll vertical */
  width: 8px;
  
  /* Alto de la barra de scroll horizontal */
  height: 8px;
}

/* Fondo de la barra de scroll */
::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* Parte que se mueve de la barra de scroll */
::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

/* Cuando pasas el mouse sobre la barra */
::-webkit-scrollbar-thumb:hover {
  background: #555;
}


/* 
===========================================
BARRAS DE SCROLL EN MODO OSCURO
===========================================
*/

/* Fondo de barra en modo oscuro */
.app-container.dark-mode ::-webkit-scrollbar-track {
  background: #374151;
}

/* Barra móvil en modo oscuro */
.app-container.dark-mode ::-webkit-scrollbar-thumb {
  background: #6b7280;
}

/* Barra móvil en hover (modo oscuro) */
.app-container.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}


/* 
===========================================
MEJORAS PARA HOVER DE NODOS
===========================================
*/

/* Cuando pasas el mouse sobre un nodo (versión mejorada) */
.react-flow__node:hover {
  /* Agranda un 8% (más que el anterior) */
  transform: scale(1.08);
  
  /* Sombra más pronunciada */
  box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.3);
  
  /* Prioridad más alta para estar por encima */
  z-index: 1000 !important; /* !important fuerza este estilo */
}

/* Cuando un nodo está seleccionado con hover (naranja) */
.react-flow__node.selected-hover {
  /* Borde más grueso */
  border-width: 3px !important;
  
  /* Color naranja para el borde */
  border-color: #f59e0b !important;
  
  /* Sombra naranja alrededor */
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.3) !important;
  
  /* Aplica la animación "pulse" */
  animation: pulse 2s infinite;
}


/* 
===========================================
CONEXIONES (LÍNEAS ENTRE MATERIAS)
===========================================
*/

/* Conexiones NO activas (cuando hay hover en otra materia) */
.react-flow__edge.inactive {
  /* Casi transparente (15% de opacidad) */
  opacity: 0.15 !important;
  
  /* Suaviza el cambio de opacidad */
  transition: opacity 0.3s ease;
  pointer-events: none;
  
}

/* Conexiones activas (conectadas a la materia con hover) */
.react-flow__edge.active {
  /* Totalmente visible */
  opacity: 1 !important;
  
  /* Línea más gruesa */
  stroke-width: 3px !important;
  
  /* Sombra para destacar */
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}


/* 
===========================================
ANIMACIÓN DE PULSO (efecto latido)
===========================================
*/

/* Define una animación llamada "pulse" */
@keyframes pulse {
  /* Inicio: sombra invisible */
  0% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4);
  }
  
  /* Mitad: sombra grande y transparente */
  70% {
    box-shadow: 0 0 0 10px rgba(245, 158, 11, 0);
  }
  
  /* Final: vuelve a invisible */
  100% {
    box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
  }
}


/* 
===========================================
TOOLTIP (cuadrito de información)
===========================================
*/

/* Estilos para el tooltip que aparece sobre los nodos */
.node-tooltip {
  /* Posición absoluta respecto al contenedor */
  position: absolute;
  
  /* Fondo negro semi-transparente */
  background: rgba(0, 0, 0, 0.8);
  
  /* Texto blanco */
  color: white;
  
  /* Espaciado interno */
  padding: 8px 12px;
  
  /* Bordes redondeados */
  border-radius: 6px;
  
  /* Texto pequeño */
  font-size: 12px;
  
  /* No captura clicks del mouse */
  pointer-events: none;
  
  /* Siempre por encima de todo */
  z-index: 10000;
  
  /* Ancho máximo */
  max-width: 200px;
  
  /* Permite saltos de línea */
  white-space: normal;
  
  /* Efecto de desenfoque detrás */
  backdrop-filter: blur(4px);
}


/* 
===========================================
MEJORA DE CONEXIONES
===========================================
*/

/* Para que las líneas sean clickeables */
.react-flow__edge-path {
  /* Acepta eventos del mouse (clicks, hover) */
  pointer-events: all;

/*==========FOOTER==========*/
}

.app-footer {
  width: 100%;
  padding: 30px 40px;
  font-size: 14px;
  z-index: 100;
  
  /*MODO CLARO*/
  background-color: #f8fafc;
  color: #64748b;
  border-top: 1px solid #e2e8f0;
  
  /* Sombra suave arriba para separarlo del mapa */
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.05);
}

/* Contenedor interno para organizar Izquierda y Derecha */
.footer-container {
  max-width: 1200px;
  margin: 0 auto; /* Centrar todo */
  display: flex;
  justify-content: space-between; /* Uno a cada punta */
  align-items: center; /* Alinear verticalmente */
  flex-wrap: wrap; /* Si la pantalla es chica, que baje */
  gap: 20px;
}

/*==========LEYENDA==========*/

.legend-container {
  position: absolute;
  bottom: 20px; /* Posición normal cuando el footer está cerrado */
  left: 20px;
  
  display: flex;
  gap: 15px;
  padding: 10px 15px;
  border-radius: 8px;
  
  /* Efecto Vidrio (Glassmorphism) igual al footer */
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(5px);
  border: 1px solid #e2e8f0;
  box-shadow: 0 4px 6px rgba(0,0,0,0.05);
  
  font-size: 0.8rem;
  color: #1f2937;
  z-index: 8000; /* Por debajo del footer si chocan, pero se moverán antes */
  
  /* ANIMACIÓN: Usamos la MISMA curva que el footer para que se muevan juntos */
  transition: bottom 0.5s cubic-bezier(0.23, 1, 0.32, 1);
}

/* Estilos internos de los puntitos de la leyenda */
.legend-item { display: flex; align-items: center; gap: 6px; }
.legend-dot { width: 12px; height: 12px; border-radius: 50%; }

/* Colores de los puntitos (Modo Claro) */
.legend-dot.aprobada { background: #dcfce7; border: 2px solid #16a34a; }
.legend-dot.disponible { background: #fff; border: 2px solid #3b82f6; }
.legend-dot.bloqueada { background: #f3f4f6; border: 2px solid #9ca3af; }

/* 2. ADAPTACIÓN AL MODO OSCURO */
.app-container.dark-mode .legend-container {
  background: rgba(31, 41, 55, 0.9);
  color: #f3f4f6;
  border-color: #374151;
}
.app-container.dark-mode .legend-dot.aprobada { background: #064e3b; border-color: #34d399; }
.app-container.dark-mode .legend-dot.disponible { background: #1e293b; border-color: #60a5fa; }
.app-container.dark-mode .legend-dot.bloqueada { background: #374151; border-color: #6b7280; }

.app-container.footer-open .legend-container {
  bottom: 150px;
}

/*==========SUBIMOS LA LEYENDA JUNTO AL FOOTER DESPLEGABLE==========*/

.react-flow__panel.bottom {
  /* Le agregamos la transición para que no salte de golpe */
  transition: bottom 0.5s cubic-bezier(0.23, 1, 0.32, 1) !important;
}

.app-container.footer-open .react-flow__panel.bottom {
  /* Los subimos*/
  bottom: 150px !important; 
}

/*=========FOOTER DESPLEGABLE=========*/

.app-footer {
  /* --- LÓGICA DE DESPLIEGUE --- */
  position: fixed; /* Flota sobre la pantalla */
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 9000;
  
  /* Animación de entrada/salida */
  transform: translateY(100%); /* Empieza escondido abajo */
  transition:
  transform 0.5s cubic-bezier(0.23, 1, 0.32, 1),
  opacity 0.5s ease-out;
  
  /* ---DISEÑO ORIGINAL--- */
  padding: 15px 40px; 
  font-size: 13px;
  
  /* Fondo*/
  padding: 15px 40px; 
  font-size: 13px;
  background-color: rgba(248, 250, 252, 0.95);
  backdrop-filter: blur(12px);
  color: #64748b;
  border-top: 1px solid #e2e8f0;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.01);
}

/* Clase que se agrega al abrir */
.app-footer.open {
  transform: translateY(0); /* Sube a su posición original */
  opacity: 1;
  pointer-events: all;
}

/* --- BOTÓN PESTAÑA--- */
.footer-toggle-btn {
  position: absolute;
  top: -30px; /* Se asoma por arriba */
  left: 50%;
  transform: translateX(-50%);
  
  height: 30px;
  padding: 0 25px;
  background-color: #3b82f6; /* Azul UTN */
  color: white;
  border: none;
  border-radius: 10px 10px 0 0;
  font-size: 11px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9002;
  transition: background 0.3s;
}

.footer-toggle-btn:hover {
  background-color: #2563eb;
  padding-bottom: 5px; /* Efecto de estirarse */
}

.footer-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 15px;
}

/* --- LADO IZQUIERDO --- */
.footer-brand {
  max-width: 700px; /* Para que entre la frase larga */
  text-align: left;
}

.footer-brand h3 {
  margin: 0 0 2px 0; 
  color: #3b82f6; 
  font-size: 1rem;
}

.footer-brand p {
  margin: 0 0 8px 0; /* Espacio entre párrafos */
  opacity: 0.8;
  line-height: 1.3;
}

.copyright {
  display: block;
  margin-top: 5px; 
  font-size: 0.75rem;
  opacity: 0.6;
}

/* --- LADO DERECHO--- */
.footer-team {
  display: flex;
  flex-direction: column;
  align-items: center; /* Todo el bloque pegado a la derecha */
}

.footer-team h4 {
  margin: 0 0 5px 0; 
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  opacity: 0.7;
  text-align: center;
}

/* LA GRILLA DE NOMBRES*/
.team-grid {
  display: grid;
  grid-template-columns: auto auto; 
  gap: 4px 25px; /* Espacio compacto */
  
  text-align: left; /* Nombres alineados a la izquierda */
  justify-content: center; /* La grilla en sí pegada a la derecha */
}

/* EL LINK CON ANIMACIÓN*/
.team-link {
  text-decoration: none;
  color: #475569;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
  display: inline-block;
  white-space: nowrap;
  font-size: 0.85rem;
}

/* HOVER EFFECT*/
.team-link:hover {
  color: #3b82f6;
  transform: translateY(-1px); /* Saltito */
  text-shadow: 0 0 1px rgba(59, 130, 246, 0.3);
}

.team-link::after {
  content: '';
  position: absolute;
  width: 0;
  height: 2px;
  bottom: -1px;
  left: 0;
  right: 0;
  margin: 0 auto;
  background-color: #3b82f6;
  transition: width 0.3s ease;
}

.team-link:hover::after {
  width: 100%; /* Subrayado que crece */
}


/* --- MODO OSCURO (Actualizado para el desplegable) --- */
.app-container.dark-mode .app-footer {
  background-color: rgba(17, 24, 39, 0.98); /* Gris oscuro casi opaco */
  color: #9ca3af;
  border-top: 1px solid #374151;
}

.app-container.dark-mode .footer-toggle-btn {
  background-color: #374151;
  color: #e5e7eb;
  border: 1px solid #4b5563;
  border-bottom: none;
}
.app-container.dark-mode .footer-toggle-btn:hover { background-color: #4b5563; }

.app-container.dark-mode .footer-brand h3 { color: #60a5fa; }
.app-container.dark-mode .team-link { color: #cbd5e1; }
.app-container.dark-mode .team-link:hover { color: #60a5fa; }
.app-container.dark-mode .team-link::after { background-color: #60a5fa; }
.app-container.dark-mode .team-link::after { background-color: #60a5fa; }

/* RESPONSIVE */
@media (max-width: 768px) {
  .footer-container {
    flex-direction: column;
    text-align: center;
    gap: 20px;
  }
  .footer-brand { text-align: center; }
  .team-grid { grid-template-columns: 1fr; }
}

.utn-logo-svg {
  /* Queremos que los cambios de posición y giro sean suaves */
  /* Usamos una curva "cubic-bezier" para darle un efecto de rebote elástico */
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), fill 0.2s ease;

  /* Aseguramos que el punto de pivote para el giro sea el centro */
  transform-origin: center;
  
  /* Un pequeño filtro para que brille un poco en modo oscuro */
  filter: drop-shadow(0 0 2px rgba(255,255,255,0.1));
}

.utn-logo-svg:hover {
  /* EFECTO SALTO Y GIRO: */
  /* Se mueve 15px hacia arriba (salto) Y gira 360 grados */
  transform: translateY(-15px) rotate(360deg);

  /* EFECTO COLORINES: */
  /* Ejecuta la animación 'rainbow-party' de forma infinita mientras el mouse esté encima */
  /* 'linear' hace que el cambio de color sea constante */
  animation: rainbow-party 1.5s linear infinite;
  
  /* Sombra más intensa durante el efecto */
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
  cursor: grab; /* Un cursor divertido */
}

@keyframes rainbow-party {
  0%   { fill: #ff0000; } /* Rojo */
  20%  { fill: #ff9a00; } /* Naranja */
  40%  { fill: #d0de21; } /* Lima */
  60%  { fill: #4fdc4a; } /* Verde */
  80%  { fill: #3fdad8; } /* Cian */
  100% { fill: #ce42ff; } /* Violeta (y vuelve a empezar) */
}
